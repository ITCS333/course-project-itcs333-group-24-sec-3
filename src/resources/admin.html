<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manage Resources</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="bg-primary text-white py-4 mb-4">
      <div class="container">
        <h1 class="text-center">Manage Course Resources</h1>
      </div>
    </header>

    <main class="container pb-5">
      <section class="card shadow-sm mb-4">
        <div class="card-body">
          <h2 class="card-title h4 mb-3">Add a New Resource</h2>
          <form id="resource-form" novalidate>
            <fieldset class="border rounded-3 p-3">
              <legend class="float-none w-auto px-2">Resource Details</legend>
              <div class="mb-3">
                <label for="resource-title" class="form-label">Title</label>
                <input
                  type="text"
                  id="resource-title"
                  class="form-control"
                  placeholder="Enter resource title"
                  required
                />
                <div class="invalid-feedback">Please enter a title.</div>
              </div>
              <div class="mb-3">
                <label for="resource-description" class="form-label"
                  >Description</label
                >
                <textarea
                  id="resource-description"
                  class="form-control"
                  rows="3"
                  placeholder="Provide a short description"
                ></textarea>
              </div>
              <div class="mb-3">
                <label for="resource-link" class="form-label"
                  >Resource Link</label
                >
                <input
                  type="url"
                  id="resource-link"
                  class="form-control"
                  placeholder="https://example.com/chapter1"
                  required
                />
                <div class="invalid-feedback">Please enter a valid URL.</div>
              </div>
              <button id="add-resource" type="submit" class="btn btn-primary">
                Add Resource
              </button>
            </fieldset>
          </form>
          <div
            id="resource-feedback"
            class="alert alert-info d-none mt-3"
            role="alert"
          ></div>
        </div>
      </section>

      <section class="card shadow-sm">
        <div class="card-body">
          <div
            class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-3 mb-3"
          >
            <h2 class="card-title h4 mb-0">Existing Resources</h2>
            <div class="input-group w-100 w-md-auto">
              <span class="input-group-text">
                <span class="visually-hidden">Search resources</span>
                üîç
              </span>
              <input
                type="search"
                class="form-control"
                id="resource-search"
                placeholder="Quick search..."
                autocomplete="off"
              />
            </div>
          </div>
          <div class="table-responsive">
            <table
              class="table table-striped align-middle"
              id="resources-table"
            >
              <thead class="table-dark">
                <tr>
                  <th scope="col">Title</th>
                  <th scope="col">Description</th>
                  <th scope="col">Link</th>
                  <th scope="col" class="text-center">Actions</th>
                </tr>
              </thead>
              <tbody id="resources-tbody">
                <tr>
                  <td colspan="4" class="text-center py-4">
                    <div class="spinner-border text-primary" role="status">
                      <span class="visually-hidden">Loading resources...</span>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div
            id="table-feedback"
            class="alert alert-warning d-none mt-3"
            role="alert"
          ></div>
        </div>
      </section>
    </main>

    <div
      class="modal fade"
      id="resource-modal"
      tabindex="-1"
      aria-labelledby="resource-modal-title"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <form id="resource-modal-form" novalidate>
            <div class="modal-header">
              <h2 class="modal-title h5 mb-0" id="resource-modal-title">
                Edit Resource
              </h2>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <input type="hidden" id="edit-resource-id" />
              <div class="mb-3">
                <label for="edit-resource-title" class="form-label"
                  >Title</label
                >
                <input
                  type="text"
                  id="edit-resource-title"
                  class="form-control"
                  required
                />
                <div class="invalid-feedback">Please enter a title.</div>
              </div>
              <div class="mb-3">
                <label for="edit-resource-description" class="form-label"
                  >Description</label
                >
                <textarea
                  id="edit-resource-description"
                  class="form-control"
                  rows="3"
                ></textarea>
              </div>
              <div>
                <label for="edit-resource-link" class="form-label"
                  >Resource Link</label
                >
                <input
                  type="url"
                  id="edit-resource-link"
                  class="form-control"
                  required
                />
                <div class="invalid-feedback">Please enter a valid URL.</div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-outline-secondary"
                data-bs-dismiss="modal"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary">
                Save Changes
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="admin.js" defer></script>
  </body>
</html>
